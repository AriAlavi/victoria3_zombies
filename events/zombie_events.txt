namespace = zombie

zombie.1 = {
	type = country_event
	title = zombie_events.1.t
	desc = zombie_events.1.d
	flavor = zombie_events.1.f
	hidden = yes

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	trigger = {
		exists = c:ZOM
        this = c:ZOM
	}


	duration = 1

	immediate = {
		every_country = {
			limit = {
				is_adjacent = ROOT
				NOT = {has_war_with = ROOT}
			}
			change_relations = {
				country = ROOT
				value = -400
			}
			save_scope_as = target_country
			create_diplomatic_play = {
				name = zombie_invasion
				war = yes
				type = dp_annex_war
				target_state = ROOT.capital
				
				add_war_goal = {
					holder = ROOT
					type = annex_country
					target_state = scope:target_country.capital
				}
				
			}
		}
	}
}

zombie.2 = {
	type = country_event
	title = zombie_events.2.t
	desc = zombie_events.2.d
	flavor = zombie_events.2.f
	hidden = yes

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	duration = 1
	
	trigger = {
		exists = c:ZOM
	}
	
	immediate = {
		every_diplomatic_play = {
			limit = {
				initiator = {
					has_war_with = c:ZOM
				}
			}
			war = {
				add_war_war_support = {
					target = attacker_warleader
					value = 1000
				}
				add_war_exhaustion = {
					target = attacker_warleader
					value = -1000
				}
				add_war_war_support = {
					target = defender_warleader
					value = 1000
				}
				add_war_exhaustion = {
					target = defender_warleader
					value = -1000
				}
			}	
		}
	}
}

zombie.3 = {
	type = country_event
	title = zombie_events.3.t
	desc = zombie_events.3.d
	flavor = zombie_events.3.f
	hidden = yes
	
	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	trigger = {
		exists = c:ZOM
		this = c:ZOM
	}
	immediate = {
		every_state_region = {
			set_owner_of_provinces = {
				country = c:ZOM
				provinces = {

				}
			}
		}
	}
}

zombie.4 = {
	type = country_event
	title = zombie_events.4.t
	desc = zombie_events.4.d
	flavor = zombie_events.4.f
	hidden = yes
	
	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	trigger = {
		exists = c:ZOM
	}
	
	immediate = {
		every_state = {
			if = {
				limit = {
					owner = {
						THIS = c:ZOM
					}
				}
				create_building = {
					building="building_zombie"
					level=100
					reserves=1
				}
			}
			else_if = {
				limit = {
					owner = {
						NOT = { THIS = c:ZOM }
					}
				}
				remove_building = building_zombie
			}
			if = {
				limit = {
					owner = {
						THIS = c:ZOM
					}
				}
				every_scope_building = {
					save_scope_as = target_building
					state = {
						remove_building = building_government_administration
						remove_building = building_construction_sector
						remove_building = building_university
						remove_building = building_railway
						remove_building = building_port
						remove_building = building_barracks
						remove_building = building_naval_base
						remove_building = building_logging_camp
						remove_building = building_fishing_wharf
						remove_building = building_whaling_station
						remove_building = building_coal_mine
						remove_building = building_iron_mine
						remove_building = building_lead_mine
						remove_building = building_sulfur_mine
						remove_building = building_gold_mine
						remove_building = building_rubber_plantation
						remove_building = building_oil_rig
						remove_building = building_wheat_farm
						remove_building = building_rye_farm
						remove_building = building_rice_farm
						remove_building = building_maize_farm
						remove_building = building_millet_farm
						remove_building = building_livestock_ranch
						remove_building = building_cotton_plantation
						remove_building = building_dye_plantation
						remove_building = building_silk_plantation
						remove_building = building_banana_plantation
						remove_building = building_sugar_plantation
						remove_building = building_tea_plantation
						remove_building = building_coffee_plantation
						remove_building = building_tobacco_plantation
						remove_building = building_opium_plantation
						remove_building = building_food_industry
						remove_building = building_arts_academy
						remove_building = building_textile_mills
						remove_building = building_furniture_manufacturies
						remove_building = building_glassworks
						remove_building = building_tooling_workshops
						remove_building = building_paper_mills
						remove_building = building_chemical_plants
						remove_building = building_synthetics_plants
						remove_building = building_steel_mills
						remove_building = building_motor_industry
						remove_building = building_power_plant
						remove_building = building_shipyards
						remove_building = building_arms_industry
						remove_building = building_munition_plants
						remove_building = building_electrics_industry
						remove_building = building_war_machine_industry
						state_region = {
							add_devastation = 100
						}
						
					}
					
				}
			}	
		}
	}
}


zombie.5 = {
	type = country_event
	title = zombie_events.5.t
	desc = zombie_events.5.d
	flavor = zombie_events.5.f
	hidden = yes
	
	icon = "gfx/interface/icons/event_icons/event_skull.dds"

	trigger = {
		exists = c:ZOM
	}

	immediate = {
		c:ZOM = {
			every_scope_pop = {
				change_pop_culture = {
					target = cu:zombie
					value = 1
				}
				change_pop_religion = {
					target = rel:zombie
					value = 1
				}
			}
		}
	}

	
	
}