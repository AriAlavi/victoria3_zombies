namespace = zombie

zombie.1 = {
	type = country_event
	title = zombie_events.1.t
	desc = zombie_events.1.d
	flavor = zombie_events.1.f
	hidden = yes

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	trigger = {
		exists = c:ZOM
        this = c:ZOM
	}


	duration = 1

	immediate = {
		name = zombie_events.1.a
		every_country = {
			limit = {
				is_adjacent = ROOT
				NOT = {has_war_with = ROOT}
			}
			change_relations = {
				country = ROOT
				value = -400
			}
			save_scope_as = target_country
			create_diplomatic_play = {
				name = zombie_invasion
				war = yes
				type = dp_annex_war
				target_state = ROOT.capital
				
				add_war_goal = {
					holder = ROOT
					type = annex_country
					target_state = scope:target_country.capital
				}
				
			}
		}
	}
}

zombie.2 = {
	type = country_event
	title = zombie_events.2.t
	desc = zombie_events.2.d
	flavor = zombie_events.2.f
	hidden = yes

	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	duration = 1
	
	trigger = {
		exists = c:ZOM
	}
	
	immediate = {
		every_diplomatic_play = {
			initiator = {
				limit = {
					has_war_with = c:ZOM
				}
			}
			war = {
				add_war_war_support = {
					target = attacker_warleader
					value = 1000
				}
				add_war_exhaustion = {
					target = attacker_warleader
					value = -1000
				}
				add_war_war_support = {
					target = defender_warleader
					value = 1000
				}
				add_war_exhaustion = {
					target = defender_warleader
					value = -1000
				}
			}	
		}
	}
}

zombie.3 = {
	type = country_event
	title = zombie_events.3.t
	desc = zombie_events.3.d
	flavor = zombie_events.3.f
	hidden = yes
	
	icon = "gfx/interface/icons/event_icons/event_skull.dds"
	
	trigger = {
		exists = c:ZOM
		this = c:ZOM
	}
	immediate = {
		every_state_region = {
			set_owner_of_provinces = {
				country = c:ZOM
				provinces = {
					always = yes
				}
			}
		}
	}
	
	
}
